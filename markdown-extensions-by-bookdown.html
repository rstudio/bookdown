<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.2 Markdown extensions by bookdown | bookdown: Authoring Books and Technical Documents with R Markdown</title>
  <meta name="description" content="A guide to authoring books with R Markdown, including how to generate figures and tables, and insert cross-references, citations, HTML widgets, and Shiny apps in R Markdown. The book can be exported to HTML, PDF, and e-books (e.g. EPUB). The book style is customizable. You can easily write and preview the book in RStudio IDE or other editors, and host the book wherever you want (e.g. bookdown.org)." />
  <meta name="generator" content="bookdown 0.45.4 and GitBook 2.6.7" />

  <meta property="og:title" content="2.2 Markdown extensions by bookdown | bookdown: Authoring Books and Technical Documents with R Markdown" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://bookdown.org/yihui/bookdown//images/cover.jpg" />
  <meta property="og:description" content="A guide to authoring books with R Markdown, including how to generate figures and tables, and insert cross-references, citations, HTML widgets, and Shiny apps in R Markdown. The book can be exported to HTML, PDF, and e-books (e.g. EPUB). The book style is customizable. You can easily write and preview the book in RStudio IDE or other editors, and host the book wherever you want (e.g. bookdown.org)." />
  <meta name="github-repo" content="rstudio/bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.2 Markdown extensions by bookdown | bookdown: Authoring Books and Technical Documents with R Markdown" />
  
  <meta name="twitter:description" content="A guide to authoring books with R Markdown, including how to generate figures and tables, and insert cross-references, citations, HTML widgets, and Shiny apps in R Markdown. The book can be exported to HTML, PDF, and e-books (e.g. EPUB). The book style is customizable. You can easily write and preview the book in RStudio IDE or other editors, and host the book wherever you want (e.g. bookdown.org)." />
  <meta name="twitter:image" content="https://bookdown.org/yihui/bookdown//images/cover.jpg" />

<meta name="author" content="Yihui Xie" />


<meta name="date" content="2025-12-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="markdown-syntax.html"/>
<link rel="next" href="r-code.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<link href="libs/htmltools-fill/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding/datatables.js"></script>
<link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Authoring Books with R Markdown</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="why-read-this-book.html"><a href="why-read-this-book.html"><i class="fa fa-check"></i>Why read this book</a></li>
<li class="chapter" data-level="" data-path="structure-of-the-book.html"><a href="structure-of-the-book.html"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="software-information-and-conventions.html"><a href="software-information-and-conventions.html"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="motivation.html"><a href="motivation.html"><i class="fa fa-check"></i><b>1.1</b> Motivation</a></li>
<li class="chapter" data-level="1.2" data-path="get-started.html"><a href="get-started.html"><i class="fa fa-check"></i><b>1.2</b> Get started</a></li>
<li class="chapter" data-level="1.3" data-path="usage.html"><a href="usage.html"><i class="fa fa-check"></i><b>1.3</b> Usage</a></li>
<li class="chapter" data-level="1.4" data-path="new-session.html"><a href="new-session.html"><i class="fa fa-check"></i><b>1.4</b> Two rendering approaches</a></li>
<li class="chapter" data-level="1.5" data-path="some-tips.html"><a href="some-tips.html"><i class="fa fa-check"></i><b>1.5</b> Some tips</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="components.html"><a href="components.html"><i class="fa fa-check"></i><b>2</b> Components</a>
<ul>
<li class="chapter" data-level="2.1" data-path="markdown-syntax.html"><a href="markdown-syntax.html"><i class="fa fa-check"></i><b>2.1</b> Markdown syntax</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="markdown-syntax.html"><a href="markdown-syntax.html#inline-formatting"><i class="fa fa-check"></i><b>2.1.1</b> Inline formatting</a></li>
<li class="chapter" data-level="2.1.2" data-path="markdown-syntax.html"><a href="markdown-syntax.html#block-level-elements"><i class="fa fa-check"></i><b>2.1.2</b> Block-level elements</a></li>
<li class="chapter" data-level="2.1.3" data-path="markdown-syntax.html"><a href="markdown-syntax.html#math-expressions"><i class="fa fa-check"></i><b>2.1.3</b> Math expressions</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="markdown-extensions-by-bookdown.html"><a href="markdown-extensions-by-bookdown.html"><i class="fa fa-check"></i><b>2.2</b> Markdown extensions by bookdown</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="markdown-extensions-by-bookdown.html"><a href="markdown-extensions-by-bookdown.html#equations"><i class="fa fa-check"></i><b>2.2.1</b> Number and reference equations</a></li>
<li class="chapter" data-level="2.2.2" data-path="markdown-extensions-by-bookdown.html"><a href="markdown-extensions-by-bookdown.html#theorems"><i class="fa fa-check"></i><b>2.2.2</b> Theorems and proofs</a></li>
<li class="chapter" data-level="2.2.3" data-path="markdown-extensions-by-bookdown.html"><a href="markdown-extensions-by-bookdown.html#special-headers"><i class="fa fa-check"></i><b>2.2.3</b> Special headers</a></li>
<li class="chapter" data-level="2.2.4" data-path="markdown-extensions-by-bookdown.html"><a href="markdown-extensions-by-bookdown.html#text-references"><i class="fa fa-check"></i><b>2.2.4</b> Text references</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-code.html"><a href="r-code.html"><i class="fa fa-check"></i><b>2.3</b> R code</a></li>
<li class="chapter" data-level="2.4" data-path="figures.html"><a href="figures.html"><i class="fa fa-check"></i><b>2.4</b> Figures</a></li>
<li class="chapter" data-level="2.5" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>2.5</b> Tables</a></li>
<li class="chapter" data-level="2.6" data-path="cross-references.html"><a href="cross-references.html"><i class="fa fa-check"></i><b>2.6</b> Cross-references</a></li>
<li class="chapter" data-level="2.7" data-path="custom-blocks.html"><a href="custom-blocks.html"><i class="fa fa-check"></i><b>2.7</b> Custom blocks</a></li>
<li class="chapter" data-level="2.8" data-path="citations.html"><a href="citations.html"><i class="fa fa-check"></i><b>2.8</b> Citations</a></li>
<li class="chapter" data-level="2.9" data-path="latex-index.html"><a href="latex-index.html"><i class="fa fa-check"></i><b>2.9</b> Index</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="latex-index.html"><a href="latex-index.html#inserting-entries"><i class="fa fa-check"></i><b>2.9.1</b> Inserting Entries</a></li>
<li class="chapter" data-level="2.9.2" data-path="latex-index.html"><a href="latex-index.html#building-the-index"><i class="fa fa-check"></i><b>2.9.2</b> Building the Index</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="html-widgets.html"><a href="html-widgets.html"><i class="fa fa-check"></i><b>2.10</b> HTML widgets</a></li>
<li class="chapter" data-level="2.11" data-path="web-pages-and-shiny-apps.html"><a href="web-pages-and-shiny-apps.html"><i class="fa fa-check"></i><b>2.11</b> Web pages and Shiny apps</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="output-formats.html"><a href="output-formats.html"><i class="fa fa-check"></i><b>3</b> Output Formats</a>
<ul>
<li class="chapter" data-level="3.1" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>3.1</b> HTML</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="html.html"><a href="html.html#gitbook-style"><i class="fa fa-check"></i><b>3.1.1</b> GitBook style</a></li>
<li class="chapter" data-level="3.1.2" data-path="html.html"><a href="html.html#bs4-book"><i class="fa fa-check"></i><b>3.1.2</b> Three-column Bootstrap style</a></li>
<li class="chapter" data-level="3.1.3" data-path="html.html"><a href="html.html#bootstrap-style"><i class="fa fa-check"></i><b>3.1.3</b> The default Bootstrap style</a></li>
<li class="chapter" data-level="3.1.4" data-path="html.html"><a href="html.html#tufte-style"><i class="fa fa-check"></i><b>3.1.4</b> Tufte style</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="latexpdf.html"><a href="latexpdf.html"><i class="fa fa-check"></i><b>3.2</b> LaTeX/PDF</a></li>
<li class="chapter" data-level="3.3" data-path="e-books.html"><a href="e-books.html"><i class="fa fa-check"></i><b>3.3</b> E-Books</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="e-books.html"><a href="e-books.html#epub"><i class="fa fa-check"></i><b>3.3.1</b> EPUB</a></li>
<li class="chapter" data-level="3.3.2" data-path="e-books.html"><a href="e-books.html#mobi"><i class="fa fa-check"></i><b>3.3.2</b> MOBI</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="a-single-document.html"><a href="a-single-document.html"><i class="fa fa-check"></i><b>3.4</b> A single document</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="customization.html"><a href="customization.html"><i class="fa fa-check"></i><b>4</b> Customization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="yaml-options.html"><a href="yaml-options.html"><i class="fa fa-check"></i><b>4.1</b> YAML options</a></li>
<li class="chapter" data-level="4.2" data-path="theming.html"><a href="theming.html"><i class="fa fa-check"></i><b>4.2</b> Theming</a></li>
<li class="chapter" data-level="4.3" data-path="templates.html"><a href="templates.html"><i class="fa fa-check"></i><b>4.3</b> Templates</a></li>
<li class="chapter" data-level="4.4" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>4.4</b> Configuration</a></li>
<li class="chapter" data-level="4.5" data-path="internationalization.html"><a href="internationalization.html"><i class="fa fa-check"></i><b>4.5</b> Internationalization</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="editing.html"><a href="editing.html"><i class="fa fa-check"></i><b>5</b> Editing</a>
<ul>
<li class="chapter" data-level="5.1" data-path="build-the-book.html"><a href="build-the-book.html"><i class="fa fa-check"></i><b>5.1</b> Build the book</a></li>
<li class="chapter" data-level="5.2" data-path="preview-a-chapter.html"><a href="preview-a-chapter.html"><i class="fa fa-check"></i><b>5.2</b> Preview a chapter</a></li>
<li class="chapter" data-level="5.3" data-path="serve-the-book.html"><a href="serve-the-book.html"><i class="fa fa-check"></i><b>5.3</b> Serve the book</a></li>
<li class="chapter" data-level="5.4" data-path="rstudio-ide.html"><a href="rstudio-ide.html"><i class="fa fa-check"></i><b>5.4</b> RStudio IDE</a></li>
<li class="chapter" data-level="5.5" data-path="collaboration.html"><a href="collaboration.html"><i class="fa fa-check"></i><b>5.5</b> Collaboration</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="publishing.html"><a href="publishing.html"><i class="fa fa-check"></i><b>6</b> Publishing</a>
<ul>
<li class="chapter" data-level="6.1" data-path="rstudio-connect.html"><a href="rstudio-connect.html"><i class="fa fa-check"></i><b>6.1</b> RStudio Connect</a></li>
<li class="chapter" data-level="6.2" data-path="netlify-drop.html"><a href="netlify-drop.html"><i class="fa fa-check"></i><b>6.2</b> Netlify Drop</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="netlify-drop.html"><a href="netlify-drop.html#the-build-and-deploy-pipeline-sequence"><i class="fa fa-check"></i><b>6.2.1</b> The build-and-deploy pipeline sequence</a></li>
<li class="chapter" data-level="6.2.2" data-path="netlify-drop.html"><a href="netlify-drop.html#before-you-begin"><i class="fa fa-check"></i><b>6.2.2</b> Before you begin</a></li>
<li class="chapter" data-level="6.2.3" data-path="netlify-drop.html"><a href="netlify-drop.html#build-your-book"><i class="fa fa-check"></i><b>6.2.3</b> Build your book</a></li>
<li class="chapter" data-level="6.2.4" data-path="netlify-drop.html"><a href="netlify-drop.html#deploy-your-site"><i class="fa fa-check"></i><b>6.2.4</b> Deploy your site</a></li>
<li class="chapter" data-level="6.2.5" data-path="netlify-drop.html"><a href="netlify-drop.html#optional-update-your-site"><i class="fa fa-check"></i><b>6.2.5</b> <em>Optional: Update your site</em></a></li>
<li class="chapter" data-level="6.2.6" data-path="netlify-drop.html"><a href="netlify-drop.html#netlify-subdomain"><i class="fa fa-check"></i><b>6.2.6</b> <em>Optional: change the default subdomain</em></a></li>
<li class="chapter" data-level="6.2.7" data-path="netlify-drop.html"><a href="netlify-drop.html#drawbacks-and-alternatives"><i class="fa fa-check"></i><b>6.2.7</b> Drawbacks and alternatives</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>6.3</b> GitHub</a></li>
<li class="chapter" data-level="6.4" data-path="features-for-html-publishing.html"><a href="features-for-html-publishing.html"><i class="fa fa-check"></i><b>6.4</b> Features for HTML publishing</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="features-for-html-publishing.html"><a href="features-for-html-publishing.html#html-404"><i class="fa fa-check"></i><b>6.4.1</b> HTML 404 pages</a></li>
<li class="chapter" data-level="6.4.2" data-path="features-for-html-publishing.html"><a href="features-for-html-publishing.html#metadata-for-sharing"><i class="fa fa-check"></i><b>6.4.2</b> Metadata for sharing</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="publishers.html"><a href="publishers.html"><i class="fa fa-check"></i><b>6.5</b> Publishers</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="software-tools.html"><a href="software-tools.html"><i class="fa fa-check"></i><b>A</b> Software Tools</a>
<ul>
<li class="chapter" data-level="A.1" data-path="r-and-r-packages.html"><a href="r-and-r-packages.html"><i class="fa fa-check"></i><b>A.1</b> R and R packages</a></li>
<li class="chapter" data-level="A.2" data-path="pandoc.html"><a href="pandoc.html"><i class="fa fa-check"></i><b>A.2</b> Pandoc</a></li>
<li class="chapter" data-level="A.3" data-path="latex.html"><a href="latex.html"><i class="fa fa-check"></i><b>A.3</b> LaTeX</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="software-usage.html"><a href="software-usage.html"><i class="fa fa-check"></i><b>B</b> Software Usage</a>
<ul>
<li class="chapter" data-level="B.1" data-path="knitr.html"><a href="knitr.html"><i class="fa fa-check"></i><b>B.1</b> knitr</a></li>
<li class="chapter" data-level="B.2" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>B.2</b> R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>C</b> FAQ</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Authoring Books and Technical Documents with R Markdown</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="markdown-extensions-by-bookdown" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Markdown extensions by bookdown<a href="markdown-extensions-by-bookdown.html#markdown-extensions-by-bookdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Although Pandoc’s Markdown is much richer than the original Markdown syntax, it still lacks a number of things that we may need for academic writing. For example, it supports math equations, but you cannot number and reference equations in multi-page HTML or EPUB output. We have provided a few Markdown extensions in <strong>bookdown</strong> to fill the gaps.</p>
<div id="equations" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Number and reference equations<a href="markdown-extensions-by-bookdown.html#equations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To number and refer to equations, put them in the equation environments and assign labels to them using the syntax <code>(\#eq:label)</code>, e.g.,</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb26-1"><a href="markdown-extensions-by-bookdown.html#cb26-1" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">equation</span>}<span class="ss"> </span></span>
<span id="cb26-2"><a href="markdown-extensions-by-bookdown.html#cb26-2" tabindex="-1"></a><span class="ss">  f</span><span class="sc">\left</span><span class="ss">(k</span><span class="sc">\right</span><span class="ss">) = </span><span class="sc">\binom</span><span class="ss">{n}{k} p^k</span><span class="sc">\left</span><span class="ss">(1-p</span><span class="sc">\right</span><span class="ss">)^{n-k}</span></span>
<span id="cb26-3"><a href="markdown-extensions-by-bookdown.html#cb26-3" tabindex="-1"></a><span class="ss">  (</span><span class="sc">\#</span><span class="ss">eq:binom)</span></span>
<span id="cb26-4"><a href="markdown-extensions-by-bookdown.html#cb26-4" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">equation</span>} </span></code></pre></div>
<p>It renders the equation below:</p>
<p><span class="math display" id="eq:binom">\[\begin{equation}
f\left(k\right)=\binom{n}{k}p^k\left(1-p\right)^{n-k} \tag{2.1}
\end{equation}\]</span></p>
<p>You may refer to it using <code>\@ref(eq:binom)</code>, e.g., see Equation <a href="markdown-extensions-by-bookdown.html#eq:binom">(2.1)</a>.</p>

<div class="rmdcaution">
Equation labels must start with the prefix <code>eq:</code> in <strong>bookdown</strong>. All labels in <strong>bookdown</strong> must only contain alphanumeric characters, <code>:</code>, <code>-</code>, and/or <code>/</code>. Equation references work best for LaTeX/PDF output, and they are not well supported in Word output or e-books. For HTML output, <strong>bookdown</strong> can only number the equations with labels. Please make sure equations without labels are not numbered by either using the <code>equation*</code> environment or adding <code>\nonumber</code> or <code>\notag</code> to your equations. The same rules apply to other math environments, such as <code>eqnarray</code>, <code>gather</code>, <code>align</code>, and so on (e.g., you can use the <code>align*</code> environment).
</div>
<p>We demonstrate a few more math equation environments below. Here is an unnumbered equation using the <code>equation*</code> environment:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb27-1"><a href="markdown-extensions-by-bookdown.html#cb27-1" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">equation*</span>}<span class="ss"> </span></span>
<span id="cb27-2"><a href="markdown-extensions-by-bookdown.html#cb27-2" tabindex="-1"></a><span class="sc">\frac</span><span class="ss">{d}{dx}</span><span class="sc">\left</span><span class="ss">( </span><span class="sc">\int</span><span class="ss">_{a}^{x} f(u)</span><span class="sc">\,</span><span class="ss">du</span><span class="sc">\right</span><span class="ss">)=f(x)</span></span>
<span id="cb27-3"><a href="markdown-extensions-by-bookdown.html#cb27-3" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">equation*</span>} </span></code></pre></div>
<p><span class="math display">\[\begin{equation*}
\frac{d}{dx}\left( \int_{a}^{x} f(u)\,du\right)=f(x)
\end{equation*}\]</span></p>
<p>Below is an <code>align</code> environment <a href="markdown-extensions-by-bookdown.html#eq:align">(2.2)</a>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb28-1"><a href="markdown-extensions-by-bookdown.html#cb28-1" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">align</span>}<span class="ss"> </span></span>
<span id="cb28-2"><a href="markdown-extensions-by-bookdown.html#cb28-2" tabindex="-1"></a><span class="ss">g(X_{n}) &amp;= g(</span><span class="sc">\theta</span><span class="ss">)+g&#39;({</span><span class="sc">\tilde</span><span class="ss">{</span><span class="sc">\theta</span><span class="ss">}})(X_{n}-</span><span class="sc">\theta</span><span class="ss">) </span><span class="sc">\notag</span><span class="ss"> </span><span class="sc">\\</span></span>
<span id="cb28-3"><a href="markdown-extensions-by-bookdown.html#cb28-3" tabindex="-1"></a><span class="sc">\sqrt</span><span class="ss">{n}[g(X_{n})-g(</span><span class="sc">\theta</span><span class="ss">)] &amp;= g&#39;</span><span class="sc">\left</span><span class="ss">({</span><span class="sc">\tilde</span><span class="ss">{</span><span class="sc">\theta</span><span class="ss">}}</span><span class="sc">\right</span><span class="ss">)</span></span>
<span id="cb28-4"><a href="markdown-extensions-by-bookdown.html#cb28-4" tabindex="-1"></a><span class="ss">  </span><span class="sc">\sqrt</span><span class="ss">{n}[X_{n}-</span><span class="sc">\theta</span><span class="ss"> ] (</span><span class="sc">\#</span><span class="ss">eq:align)</span></span>
<span id="cb28-5"><a href="markdown-extensions-by-bookdown.html#cb28-5" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">align</span>} </span></code></pre></div>
<p><span class="math display" id="eq:align">\[\begin{align}
g(X_{n}) &amp;= g(\theta)+g&#39;({\tilde{\theta}})(X_{n}-\theta) \notag \\
\sqrt{n}[g(X_{n})-g(\theta)] &amp;= g&#39;\left({\tilde{\theta}}\right)
  \sqrt{n}[X_{n}-\theta ] \tag{2.2}
\end{align}\]</span></p>
<p>You can use the <code>split</code> environment inside <code>equation</code> so that all lines share the same number <a href="markdown-extensions-by-bookdown.html#eq:var-beta">(2.3)</a>. By default, each line in the <code>align</code> environment will be assigned an equation number. We suppressed the number of the first line in the previous example using <code>\notag</code>. In this example, the whole <code>split</code> environment was assigned a single number.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb29-1"><a href="markdown-extensions-by-bookdown.html#cb29-1" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">equation</span>}<span class="ss"> </span></span>
<span id="cb29-2"><a href="markdown-extensions-by-bookdown.html#cb29-2" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">split</span>}</span>
<span id="cb29-3"><a href="markdown-extensions-by-bookdown.html#cb29-3" tabindex="-1"></a><span class="sc">\mathrm</span><span class="ss">{Var}(</span><span class="sc">\hat</span><span class="ss">{</span><span class="sc">\beta</span><span class="ss">}) &amp; =</span><span class="sc">\mathrm</span><span class="ss">{Var}((X&#39;X)^{-1}X&#39;y)</span><span class="sc">\\</span></span>
<span id="cb29-4"><a href="markdown-extensions-by-bookdown.html#cb29-4" tabindex="-1"></a><span class="ss"> &amp; =(X&#39;X)^{-1}X&#39;</span><span class="sc">\mathrm</span><span class="ss">{Var}(y)((X&#39;X)^{-1}X&#39;)&#39;</span><span class="sc">\\</span></span>
<span id="cb29-5"><a href="markdown-extensions-by-bookdown.html#cb29-5" tabindex="-1"></a><span class="ss"> &amp; =(X&#39;X)^{-1}X&#39;</span><span class="sc">\mathrm</span><span class="ss">{Var}(y)X(X&#39;X)^{-1}</span><span class="sc">\\</span></span>
<span id="cb29-6"><a href="markdown-extensions-by-bookdown.html#cb29-6" tabindex="-1"></a><span class="ss"> &amp; =(X&#39;X)^{-1}X&#39;</span><span class="sc">\sigma</span><span class="ss">^{2}IX(X&#39;X)^{-1}</span><span class="sc">\\</span></span>
<span id="cb29-7"><a href="markdown-extensions-by-bookdown.html#cb29-7" tabindex="-1"></a><span class="ss"> &amp; =(X&#39;X)^{-1}</span><span class="sc">\sigma</span><span class="ss">^{2}</span></span>
<span id="cb29-8"><a href="markdown-extensions-by-bookdown.html#cb29-8" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">split</span>}</span>
<span id="cb29-9"><a href="markdown-extensions-by-bookdown.html#cb29-9" tabindex="-1"></a><span class="ss">(</span><span class="sc">\#</span><span class="ss">eq:var-beta)</span></span>
<span id="cb29-10"><a href="markdown-extensions-by-bookdown.html#cb29-10" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">equation</span>} </span></code></pre></div>
<p><span class="math display" id="eq:var-beta">\[\begin{equation}
\begin{split}
\mathrm{Var}(\hat{\beta}) &amp; =\mathrm{Var}((X&#39;X)^{-1}X&#39;y)\\
&amp; =(X&#39;X)^{-1}X&#39;\mathrm{Var}(y)((X&#39;X)^{-1}X&#39;)&#39;\\
&amp; =(X&#39;X)^{-1}X&#39;\mathrm{Var}(y)X(X&#39;X)^{-1}\\
&amp; =(X&#39;X)^{-1}X&#39;\sigma^{2}IX(X&#39;X)^{-1}\\
&amp; =(X&#39;X)^{-1}\sigma^{2}
\end{split}
\tag{2.3}
\end{equation}\]</span></p>
</div>
<div id="theorems" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Theorems and proofs<a href="markdown-extensions-by-bookdown.html#theorems" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Theorems and proofs are commonly used in articles and books in mathematics. However, please do not be misled by the names: a “theorem” is just a numbered/labeled environment, and it does not have to be a mathematical theorem (e.g., it can be an example irrelevant to mathematics). Similarly, a “proof” is an unnumbered environment. In this section, we always use the <em>general</em> meanings of a “theorem” and “proof” unless explicitly stated.</p>
<p>In <strong>bookdown</strong>, the types of theorem environments supported are in Table <a href="markdown-extensions-by-bookdown.html#tab:theorem-envs">2.1</a>. To write a theorem, you can use the syntax below:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb30-1"><a href="markdown-extensions-by-bookdown.html#cb30-1" tabindex="-1"></a>::: {.theorem}</span>
<span id="cb30-2"><a href="markdown-extensions-by-bookdown.html#cb30-2" tabindex="-1"></a>This is a <span class="in">`theorem`</span> environment that can contain **any**</span>
<span id="cb30-3"><a href="markdown-extensions-by-bookdown.html#cb30-3" tabindex="-1"></a>_Markdown_ syntax.</span>
<span id="cb30-4"><a href="markdown-extensions-by-bookdown.html#cb30-4" tabindex="-1"></a>:::</span></code></pre></div>
<p>This syntax is based on Pandoc’s <a href="https://pandoc.org/MANUAL.html#divs-and-spans">fenced <code>Div</code> blocks</a> and can already be used in any R Markdown document to write <a href="https://bookdown.org/yihui/rmarkdown-cookbook/custom-blocks.html">custom blocks.</a> <strong>Bookdown</strong> only offers special handling for theorem and proof environments. Since this uses the syntax of Pandoc’s Markdown, you can write any valid Markdown text inside the block.</p>

<table>
<caption><span id="tab:theorem-envs">TABLE 2.1: </span>Theorem environments in <strong>bookdown</strong>.</caption>
<thead>
<tr class="header">
<th align="left">Environment</th>
<th align="left">Printed Name</th>
<th align="left">Label Prefix</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">theorem</td>
<td align="left">Theorem</td>
<td align="left">thm</td>
</tr>
<tr class="even">
<td align="left">lemma</td>
<td align="left">Lemma</td>
<td align="left">lem</td>
</tr>
<tr class="odd">
<td align="left">corollary</td>
<td align="left">Corollary</td>
<td align="left">cor</td>
</tr>
<tr class="even">
<td align="left">proposition</td>
<td align="left">Proposition</td>
<td align="left">prp</td>
</tr>
<tr class="odd">
<td align="left">conjecture</td>
<td align="left">Conjecture</td>
<td align="left">cnj</td>
</tr>
<tr class="even">
<td align="left">definition</td>
<td align="left">Definition</td>
<td align="left">def</td>
</tr>
<tr class="odd">
<td align="left">example</td>
<td align="left">Example</td>
<td align="left">exm</td>
</tr>
<tr class="even">
<td align="left">exercise</td>
<td align="left">Exercise</td>
<td align="left">exr</td>
</tr>
<tr class="odd">
<td align="left">hypothesis</td>
<td align="left">Hypothesis</td>
<td align="left">hyp</td>
</tr>
</tbody>
</table>
<p>To write other theorem environments, replace <code>::: {.theorem}</code> with other environment names in Table <a href="markdown-extensions-by-bookdown.html#tab:theorem-envs">2.1</a>, e.g., <code>::: {.lemma}</code>.</p>
<p>A theorem can have a <code>name</code> attribute so its name will be printed. For example,</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb31-1"><a href="markdown-extensions-by-bookdown.html#cb31-1" tabindex="-1"></a>::: {.theorem name=&quot;Pythagorean theorem&quot;}</span>
<span id="cb31-2"><a href="markdown-extensions-by-bookdown.html#cb31-2" tabindex="-1"></a>For a right triangle, if $c$ denotes the length of the hypotenuse</span>
<span id="cb31-3"><a href="markdown-extensions-by-bookdown.html#cb31-3" tabindex="-1"></a>and $a$ and $b$ denote the lengths of the other two sides, we have</span>
<span id="cb31-4"><a href="markdown-extensions-by-bookdown.html#cb31-4" tabindex="-1"></a>$$a^2 + b^2 = c^2$$</span>
<span id="cb31-5"><a href="markdown-extensions-by-bookdown.html#cb31-5" tabindex="-1"></a>:::</span></code></pre></div>
<p>If you want to refer to a theorem, you should label it. The label can be provided as an ID to the block of the form <code>#label</code>. For example,</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb32-1"><a href="markdown-extensions-by-bookdown.html#cb32-1" tabindex="-1"></a>::: {.theorem #foo}</span>
<span id="cb32-2"><a href="markdown-extensions-by-bookdown.html#cb32-2" tabindex="-1"></a>A labeled theorem here.</span>
<span id="cb32-3"><a href="markdown-extensions-by-bookdown.html#cb32-3" tabindex="-1"></a>:::</span></code></pre></div>
<p>After you label a theorem, you can refer to it using the syntax <code>\@ref(prefix:label)</code>. See the column <code>Label Prefix</code> in Table <a href="markdown-extensions-by-bookdown.html#tab:theorem-envs">2.1</a> for the value of <code>prefix</code> for each environment. For example, we have a labeled and named theorem below, and <code>\@ref(thm:pyth)</code> gives us its theorem number <a href="markdown-extensions-by-bookdown.html#thm:pyth">2.1</a>:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb33-1"><a href="markdown-extensions-by-bookdown.html#cb33-1" tabindex="-1"></a>::: {.theorem #pyth name=&quot;Pythagorean theorem&quot;}</span>
<span id="cb33-2"><a href="markdown-extensions-by-bookdown.html#cb33-2" tabindex="-1"></a>For a right triangle, if $c$ denotes the length of the hypotenuse</span>
<span id="cb33-3"><a href="markdown-extensions-by-bookdown.html#cb33-3" tabindex="-1"></a>and $a$ and $b$ denote the lengths of the other two sides, we have</span>
<span id="cb33-4"><a href="markdown-extensions-by-bookdown.html#cb33-4" tabindex="-1"></a></span>
<span id="cb33-5"><a href="markdown-extensions-by-bookdown.html#cb33-5" tabindex="-1"></a>$$a^2 + b^2 = c^2$$</span>
<span id="cb33-6"><a href="markdown-extensions-by-bookdown.html#cb33-6" tabindex="-1"></a>:::</span></code></pre></div>
<div class="theorem">
<p><span id="thm:pyth" class="theorem"><strong>Theorem 2.1  (Pythagorean theorem) </strong></span>For a right triangle, if <span class="math inline">\(c\)</span> denotes the length of the hypotenuse
and <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> denote the lengths of the other two sides, we have</p>
<p><span class="math display">\[a^2 + b^2 = c^2\]</span></p>
</div>
<p>The proof environments currently supported are <code>proof</code>, <code>remark</code>, and <code>solution</code>. The syntax is similar to theorem environments, and proof environments can also be named using the <code>name</code> attribute. The only difference is that since they are unnumbered, you cannot reference them, even if you provide an ID to a proof environment.</p>
<p>We have tried to make all these theorem and proof environments work out of the box, no matter if your output is PDF or HTML. If you are a LaTeX or HTML expert, you may want to customize the style of these environments anyway (see Chapter <a href="customization.html#customization">4</a>). Customization in HTML is easy with CSS, and each environment is enclosed in <code>&lt;div&gt;&lt;/div&gt;</code> with the CSS class being the environment name, e.g., <code>&lt;div class="lemma"&gt;&lt;/div&gt;</code>. For LaTeX output, we have predefined the style to be <code>definition</code> for environments <code>definition</code>, <code>example</code>, <code>exercise</code>, and <code>hypothesis</code>, and <code>remark</code> for environments <code>proof</code> and <code>remark</code>. All other environments use the <code>plain</code> style. The style definition is done through the <code>\theoremstyle{}</code> command of the <strong>amsthm</strong> package. If you do not want the default theorem definitions to be automatically added by <strong>bookdown</strong>, you can set <code>options(bookdown.theorem.preamble = FALSE)</code>. This can be useful, for example, to avoid conflicts in single documents (Section <a href="a-single-document.html#a-single-document">3.4</a>) using the output format <code>bookdown::pdf_book</code> with a <code>base_format</code> that has already included <strong>amsmath</strong> definitions.</p>
<p>Theorems are numbered by chapters by default. If there are no chapters in your document, they are numbered by sections instead. If the whole document is unnumbered (the output format option <code>number_sections = FALSE</code>), all theorems are numbered sequentially from 1, 2, …, N. LaTeX supports numbering one theorem environment after another, e.g., let theorems and lemmas share the same counter. This is not supported for HTML/EPUB output in <strong>bookdown</strong>. You can change the numbering scheme in the LaTeX preamble by defining your own theorem environments, e.g.,</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb34-1"><a href="markdown-extensions-by-bookdown.html#cb34-1" tabindex="-1"></a><span class="fu">\newtheorem</span>{theorem}{Theorem}</span>
<span id="cb34-2"><a href="markdown-extensions-by-bookdown.html#cb34-2" tabindex="-1"></a><span class="fu">\newtheorem</span>{lemma}[theorem]{Lemma}</span></code></pre></div>
<p>When <strong>bookdown</strong> detects <code>\newtheorem{theorem}</code> in your LaTeX preamble, it will not write out its default theorem definitions, which means you have to define all theorem environments by yourself. For the sake of simplicity and consistency, we do not recommend that you do this. It can be confusing when your Theorem 18 in PDF becomes Theorem 2.4 in HTML.</p>
<p>Below we show more examples<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> of the theorem and proof environments, so you can see the default styles in <strong>bookdown</strong>.</p>
<div class="definition">
<p><span id="def:unlabeled-div-1" class="definition"><strong>Definition 2.1  </strong></span>The characteristic function of a random variable <span class="math inline">\(X\)</span> is defined by</p>
<p><span class="math display">\[\varphi _{X}(t)=\operatorname {E} \left[e^{itX}\right], \; t\in\mathcal{R}\]</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-2" class="example"><strong>Example 2.1  </strong></span>We derive the characteristic function of <span class="math inline">\(X\sim U(0,1)\)</span> with the probability density function <span class="math inline">\(f(x)=\mathbf{1}_{x \in [0,1]}\)</span>.</p>
<p><span class="math display">\[\begin{equation*}
\begin{split}
\varphi _{X}(t) &amp;= \operatorname {E} \left[e^{itX}\right]\\
&amp; =\int e^{itx}f(x)dx\\
&amp; =\int_{0}^{1}e^{itx}dx\\
&amp; =\int_{0}^{1}\left(\cos(tx)+i\sin(tx)\right)dx\\
&amp; =\left.\left(\frac{\sin(tx)}{t}-i\frac{\cos(tx)}{t}\right)\right|_{0}^{1}\\
&amp; =\frac{\sin(t)}{t}-i\left(\frac{\cos(t)-1}{t}\right)\\
&amp; =\frac{i\sin(t)}{it}+\frac{\cos(t)-1}{it}\\
&amp; =\frac{e^{it}-1}{it}
\end{split}
\end{equation*}\]</span></p>
<p>Note that we used the fact <span class="math inline">\(e^{ix}=\cos(x)+i\sin(x)\)</span> twice.</p>
</div>
<div class="lemma">
<p><span id="lem:chf-pdf" class="lemma"><strong>Lemma 2.1  </strong></span>For any two random variables <span class="math inline">\(X_1\)</span>, <span class="math inline">\(X_2\)</span>, they both have the same probability distribution if and only if</p>
<p><span class="math display">\[\varphi _{X_1}(t)=\varphi _{X_2}(t)\]</span></p>
</div>
<div class="theorem">
<p><span id="thm:chf-sum" class="theorem"><strong>Theorem 2.2  </strong></span>If <span class="math inline">\(X_1\)</span>, …, <span class="math inline">\(X_n\)</span> are independent random variables, and <span class="math inline">\(a_1\)</span>, …, <span class="math inline">\(a_n\)</span> are some constants, then the characteristic function of the linear combination <span class="math inline">\(S_n=\sum_{i=1}^na_iX_i\)</span> is</p>
<p><span class="math display">\[\varphi _{S_{n}}(t)=\prod_{i=1}^n\varphi _{X_i}(a_{i}t)=\varphi _{X_{1}}(a_{1}t)\cdots \varphi _{X_{n}}(a_{n}t)\]</span></p>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-3" class="proposition"><strong>Proposition 2.1  </strong></span>The distribution of the sum of independent Poisson random variables <span class="math inline">\(X_i \sim \mathrm{Pois}(\lambda_i),\: i=1,2,\cdots,n\)</span> is <span class="math inline">\(\mathrm{Pois}(\sum_{i=1}^n\lambda_i)\)</span>.</p>
</div>
<div class="proof">
<p><span id="unlabeled-div-4" class="proof"><em>Proof</em>. </span>The characteristic function of <span class="math inline">\(X\sim\mathrm{Pois}(\lambda)\)</span> is <span class="math inline">\(\varphi _{X}(t)=e^{\lambda (e^{it}-1)}\)</span>. Let <span class="math inline">\(P_n=\sum_{i=1}^nX_i\)</span>. We know from Theorem <a href="markdown-extensions-by-bookdown.html#thm:chf-sum">2.2</a> that</p>
<p><span class="math display">\[\begin{equation*}
\begin{split}
\varphi _{P_{n}}(t) &amp; =\prod_{i=1}^n\varphi _{X_i}(t) \\
&amp; =\prod_{i=1}^n e^{\lambda_i (e^{it}-1)} \\
&amp; = e^{\sum_{i=1}^n \lambda_i (e^{it}-1)}
\end{split}
\end{equation*}\]</span></p>
<p>This is the characteristic function of a Poisson random variable with the parameter <span class="math inline">\(\lambda=\sum_{i=1}^n \lambda_i\)</span>. From Lemma <a href="markdown-extensions-by-bookdown.html#lem:chf-pdf">2.1</a>, we know the distribution of <span class="math inline">\(P_n\)</span> is <span class="math inline">\(\mathrm{Pois}(\sum_{i=1}^n\lambda_i)\)</span>.</p>
</div>
<div class="remark">
<p><span id="unlabeled-div-5" class="remark"><em>Remark</em>. </span>In some cases, it is very convenient and easy to figure out the distribution of the sum of independent random variables using characteristic functions.</p>
</div>
<div class="corollary">
<p><span id="cor:unlabeled-div-6" class="corollary"><strong>Corollary 2.1  </strong></span>The characteristic function of the sum of two independent random variables <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_2\)</span> is the product of characteristic functions of <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_2\)</span>, i.e.,</p>
<p><span class="math display">\[\varphi _{X_1+X_2}(t)=\varphi _{X_1}(t) \varphi _{X_2}(t)\]</span></p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-7" class="exercise"><strong>Exercise 2.1  (Characteristic Function of the Sample Mean) </strong></span>Let <span class="math inline">\(\bar{X}=\sum_{i=1}^n \frac{1}{n} X_i\)</span> be the sample mean of <span class="math inline">\(n\)</span> independent and identically distributed random variables, each with characteristic function <span class="math inline">\(\varphi _{X}\)</span>. Compute the characteristic function of <span class="math inline">\(\bar{X}\)</span>.</p>
</div>
<div class="solution">
<p><span id="unlabeled-div-8" class="solution"><em>Solution</em>. </span>Applying Theorem <a href="markdown-extensions-by-bookdown.html#thm:chf-sum">2.2</a>, we have</p>
<p><span class="math display">\[\varphi _{\bar{X}}(t)=\prod_{i=1}^n \varphi _{X_i}\left(\frac{t}{n}\right)=\left[\varphi _{X}\left(\frac{t}{n}\right)\right]^n.\]</span></p>
</div>
<div class="hypothesis">
<p><span id="hyp:unlabeled-div-9" class="hypothesis"><strong>Hypothesis 2.1  (Riemann hypothesis) </strong></span>The Riemann Zeta-function is defined as
<span class="math display">\[\zeta(s) = \sum_{n=1}^{\infty} \frac{1}{n^s}\]</span>
for complex values of <span class="math inline">\(s\)</span> and which converges when the real part of <span class="math inline">\(s\)</span> is greater than 1. The Riemann hypothesis is that the Riemann zeta function has its zeros only at the negative even integers and complex numbers with real part <span class="math inline">\(1/2\)</span>.</p>
</div>
<div id="theorem-engine" class="section level4 hasAnchor" number="2.2.2.1">
<h4><span class="header-section-number">2.2.2.1</span> A note on the old syntax<a href="markdown-extensions-by-bookdown.html#theorem-engine" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For older versions of <strong>bookdown</strong> (before v0.21), a <code>theorem</code> environment could be written like this:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb35-1"><a href="markdown-extensions-by-bookdown.html#cb35-1" tabindex="-1"></a><span class="in">```{theorem pyth, name=&quot;Pythagorean theorem&quot;}</span></span>
<span id="cb35-2"><a href="markdown-extensions-by-bookdown.html#cb35-2" tabindex="-1"></a><span class="in">For a right triangle, if $c$ denotes the length of the hypotenuse</span></span>
<span id="cb35-3"><a href="markdown-extensions-by-bookdown.html#cb35-3" tabindex="-1"></a><span class="in">and $a$ and $b$ denote the lengths of the other two sides, we have</span></span>
<span id="cb35-4"><a href="markdown-extensions-by-bookdown.html#cb35-4" tabindex="-1"></a></span>
<span id="cb35-5"><a href="markdown-extensions-by-bookdown.html#cb35-5" tabindex="-1"></a><span class="in">$$a^2 + b^2 = c^2$$</span></span>
<span id="cb35-6"><a href="markdown-extensions-by-bookdown.html#cb35-6" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>This syntax still works, but we do not recommend it since the new syntax allows you to write richer content and has a cleaner implementation.</p>
<p>This conversion between the two syntaxes is straightforward. The above theorem could be rewritten in this way:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb36-1"><a href="markdown-extensions-by-bookdown.html#cb36-1" tabindex="-1"></a>::: {.theorem #pyth name=&quot;Pythagorean theorem&quot;}</span>
<span id="cb36-2"><a href="markdown-extensions-by-bookdown.html#cb36-2" tabindex="-1"></a>For a right triangle, if $c$ denotes the length of the hypotenuse</span>
<span id="cb36-3"><a href="markdown-extensions-by-bookdown.html#cb36-3" tabindex="-1"></a>and $a$ and $b$ denote the lengths of the other two sides, we have</span>
<span id="cb36-4"><a href="markdown-extensions-by-bookdown.html#cb36-4" tabindex="-1"></a></span>
<span id="cb36-5"><a href="markdown-extensions-by-bookdown.html#cb36-5" tabindex="-1"></a>$$a^2 + b^2 = c^2$$</span>
<span id="cb36-6"><a href="markdown-extensions-by-bookdown.html#cb36-6" tabindex="-1"></a>:::</span></code></pre></div>
<p>You can use the helper function <code>bookdown::fence_theorems()</code> to convert a whole file or a piece of text. This is a one-time operation. We have tried to do the conversion from old to new syntax safely, but we might have missed some edge cases. To make sure you do not overwrite the <code>input</code> file by accident, you can write the converted source to a new file, e.g.,</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="markdown-extensions-by-bookdown.html#cb37-1" tabindex="-1"></a>bookdown<span class="sc">::</span><span class="fu">fence_theorems</span>(<span class="st">&quot;01-intro.Rmd&quot;</span>, <span class="at">output =</span> <span class="st">&quot;01-intro-new.Rmd&quot;</span>)</span></code></pre></div>
<p>Then double check the content of <code>01-intro-new.Rmd</code>. Using <code>output = NULL</code> will print the result of conversion in the R console, and is another way to check the conversion. If you are using a control version tool, you can set <code>output</code> to be the same as <code>input</code>, as it should be safe and easy for you to revert the change if anything goes wrong.</p>
</div>
</div>
<div id="special-headers" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Special headers<a href="markdown-extensions-by-bookdown.html#special-headers" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are a few special types of first-level headers that will be processed differently in <strong>bookdown</strong>. The first type is an unnumbered header that starts with the token <code>(PART)</code>. This kind of headers are translated to part titles. If you are familiar with LaTeX, this basically means <code>\part{}</code>. When your book has a large number of chapters, you may want to organize them into parts, e.g.,</p>
<pre><code># (PART) Part I {-} 

# Chapter One

# Chapter Two

# (PART) Part II {-} 

# Chapter Three</code></pre>
<p>A part title should be written right before the first chapter title in this part, both title in the same document. You can use <code>(PART\*)</code> (the backslash before <code>*</code> is required) instead of <code>(PART)</code> if a part title should not be numbered.</p>
<p>The second type is an unnumbered header that starts with <code>(APPENDIX)</code>, indicating that all chapters after this header are appendices, e.g.,</p>
<pre><code># Chapter One 

# Chapter Two

# (APPENDIX) Appendix {-} 

# Appendix A

# Appendix B</code></pre>
<p>The numbering style of appendices will be automatically changed in LaTeX/PDF and HTML output (usually in the form A, A.1, A.2, B, B.1, …). This feature is not available to e-books or Word output.</p>
</div>
<div id="text-references" class="section level3 hasAnchor" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Text references<a href="markdown-extensions-by-bookdown.html#text-references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can assign some text to a label and reference the text using the label elsewhere in your document. This can be particularly useful for long figure/table captions (Section <a href="figures.html#figures">2.4</a> and <a href="tables.html#tables">2.5</a>), in which case you normally will have to write the whole character string in the chunk header (e.g., <code>fig.cap = "A long long figure caption."</code>) or your R code (e.g., <code>kable(caption = "A long long table caption.")</code>). It is also useful when these captions contain special HTML or LaTeX characters, e.g., if the figure caption contains an underscore, it works in the HTML output but may not work in LaTeX output because the underscore must be escaped in LaTeX.</p>
<p>The syntax for a text reference is <code>(ref:label) text</code>, where <code>label</code> is a unique label<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> throughout the document for <code>text</code>. It must be in a separate paragraph with empty lines above and below it. The paragraph must not be wrapped into multiple lines, and should not end with a white space. For example,</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb40-1"><a href="markdown-extensions-by-bookdown.html#cb40-1" tabindex="-1"></a>(ref:foo) Define a text reference **here**. </span></code></pre></div>
<p>Then you can use <code>(ref:foo)</code> in your figure/table captions. The text can contain anything that Markdown supports, as long as it is one single paragraph. Here is a complete example:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb41-1"><a href="markdown-extensions-by-bookdown.html#cb41-1" tabindex="-1"></a>A normal paragraph.</span>
<span id="cb41-2"><a href="markdown-extensions-by-bookdown.html#cb41-2" tabindex="-1"></a></span>
<span id="cb41-3"><a href="markdown-extensions-by-bookdown.html#cb41-3" tabindex="-1"></a>(ref:foo) A scatterplot of the data <span class="in">`cars`</span> using **base** R graphics. </span>
<span id="cb41-4"><a href="markdown-extensions-by-bookdown.html#cb41-4" tabindex="-1"></a></span>
<span id="cb41-5"><a href="markdown-extensions-by-bookdown.html#cb41-5" tabindex="-1"></a><span class="in">```{r foo, fig.cap=&#39;(ref:foo)&#39;}</span></span>
<span id="cb41-6"><a href="markdown-extensions-by-bookdown.html#cb41-6" tabindex="-1"></a><span class="in">plot(cars)  # a scatterplot</span></span>
<span id="cb41-7"><a href="markdown-extensions-by-bookdown.html#cb41-7" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>Text references can be used anywhere in the document (not limited to figure captions). It can also be useful if you want to reuse a fragment of text in multiple places.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p>Some examples are adapted from the Wikipedia page <a href="https://en.wikipedia.org/wiki/Characteristic_function_(probability_theory)" class="uri">https://en.wikipedia.org/wiki/Characteristic_function_(probability_theory)</a><a href="markdown-extensions-by-bookdown.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>You may consider using the code chunk labels.<a href="markdown-extensions-by-bookdown.html#fnref5" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="markdown-syntax.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-code.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": true,
    "facebook": false,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/rstudio/bookdown/edit/main/inst/examples/02-components.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["bookdown.pdf", "bookdown.epub", "bookdown.mobi"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "none"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
